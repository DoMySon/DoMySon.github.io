<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Http | 薛定谔的Bug</title>
<meta name="keywords" content="http">
<meta name="description" content="解决并发场景下的数据竞争问题">
<meta name="author" content="Treasure">
<link rel="canonical" href="https://domyson.github.io/2020/02/http/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.48a18943c2fc15c38a372b8dde1f5e5dc0bc64fa6cb90f5a817d2f8c76b7f3ae.css" integrity="sha256-SKGJQ8L8FcOKNyuN3h9eXcC8ZPpsuQ9agX0vjHa3864=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js" integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://domyson.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://domyson.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://domyson.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://domyson.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://domyson.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Http" />
<meta property="og:description" content="解决并发场景下的数据竞争问题" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://domyson.github.io/2020/02/http/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-02-09T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2020-02-09T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Http"/>
<meta name="twitter:description" content="解决并发场景下的数据竞争问题"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://domyson.github.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Http",
      "item": "https://domyson.github.io/2020/02/http/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Http",
  "name": "Http",
  "description": "解决并发场景下的数据竞争问题",
  "keywords": [
    "http"
  ],
  "articleBody": "Http 请求构成 请求行  请求行以一个方法符号开头，以空格分开，后面跟着请求的URI和协议的版本，格式如下：Method Request-URI HTTP-Version CRLF 其中 Method表示请求方法；Request-URI是一个统一资源标识符；HTTP-Version表示请求的HTTP协议版本；CRLF表示回车和换行（除了作为结尾的CRLF外，不允许出现单独的CR或LF字符）。\n    Method Desc     GET 请求获取Request-URI所标识的资源   POST 在Request-URI所标识的资源后附加新的数据   HEAD 请求获取由Request-URI所标识的资源的响应消息报头   PUT 请求服务器存储一个资源，并用Request-URI作为其标识   DELETE 请求服务器删除Request-URI所标识的资源   TRACE 请求服务器回送收到的请求信息，主要用于测试或诊断   CONNECT 保留将来使用   OPTIONS 请求查询服务器的性能，或者查询与资源相关的选项和需求      POST 和 GET 的区别:\n  副作用：服务器上的资源做改变，如搜索是无副作用的，注册是副作用的。\n  幂等：幂等指发送 M 和 N 次请求（两者不相同且都大于 1），服务器上资源的状态一致。\n  在规范的应用场景上说，Get 多用于无副作用，幂等的场景，例如搜索关键字。Post 多用于副作用，不幂等的场景，例如注册。\n  Get 请求能缓存，Post 不能\n  Post 相对 Get 安全一点点，因为Get 请求都包含在 URL 里（当然你想写到 body 里也是可以的），且会被浏览器保存历史纪录。Post 不会，但是在抓包的情况下都是一样。\n  URL有长度限制，会影响 Get 请求，但是这个长度限制是浏览器规定的，不是 RFC 规定的\n  Post 支持更多的编码类型且不对数据类型限制\n    消息报头 请求正文 Http 响应构成 状态行  HTTP-Version Status-Code Reason-Phrase CRLF。其中，HTTP-Version表示服务器HTTP协议的版本；Status-Code表示服务器发回的响应状态代码；Reason-Phrase表示状态代码的文本描述。\n 消息报头 响应正文  首部分为请求首部和响应首部，并且部分首部两种通用\n See Http Tool\n",
  "wordCount" : "779",
  "inLanguage": "en",
  "datePublished": "2020-02-09T00:00:00Z",
  "dateModified": "2020-02-09T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Treasure"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://domyson.github.io/2020/02/http/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "薛定谔的Bug",
    "logo": {
      "@type": "ImageObject",
      "url": "https://domyson.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://domyson.github.io/" accesskey="h" title="薛定谔的Bug (Alt + H)">薛定谔的Bug</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://domyson.github.io/archives/" title="文章">
                    <span>文章</span>
                </a>
            </li>
            <li>
                <a href="https://domyson.github.io/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Http
    </h1>
    <div class="post-description">
      解决并发场景下的数据竞争问题
    </div>
    <div class="post-meta"><span title='2020-02-09 00:00:00 +0000 UTC'>February 9, 2020</span>&nbsp;·&nbsp;Treasure

</div>
  </header> 
  <div class="post-content"><h1 id="http-请求构成">Http 请求构成<a hidden class="anchor" aria-hidden="true" href="#http-请求构成">#</a></h1>
<h2 id="请求行">请求行<a hidden class="anchor" aria-hidden="true" href="#请求行">#</a></h2>
<blockquote>
<p>请求行以一个方法符号开头，以空格分开，后面跟着请求的URI和协议的版本，格式如下：Method Request-URI HTTP-Version CRLF  其中 Method表示请求方法；Request-URI是一个统一资源标识符；HTTP-Version表示请求的HTTP协议版本；CRLF表示回车和换行（除了作为结尾的CRLF外，不允许出现单独的CR或LF字符）。</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">Method</th>
<th style="text-align:center">Desc</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">GET</td>
<td style="text-align:center">请求获取Request-URI所标识的资源</td>
</tr>
<tr>
<td style="text-align:center">POST</td>
<td style="text-align:center">在Request-URI所标识的资源后附加新的数据</td>
</tr>
<tr>
<td style="text-align:center">HEAD</td>
<td style="text-align:center">请求获取由Request-URI所标识的资源的响应消息报头</td>
</tr>
<tr>
<td style="text-align:center">PUT</td>
<td style="text-align:center">请求服务器存储一个资源，并用Request-URI作为其标识</td>
</tr>
<tr>
<td style="text-align:center">DELETE</td>
<td style="text-align:center">请求服务器删除Request-URI所标识的资源</td>
</tr>
<tr>
<td style="text-align:center">TRACE</td>
<td style="text-align:center">请求服务器回送收到的请求信息，主要用于测试或诊断</td>
</tr>
<tr>
<td style="text-align:center">CONNECT</td>
<td style="text-align:center">保留将来使用</td>
</tr>
<tr>
<td style="text-align:center">OPTIONS</td>
<td style="text-align:center">请求查询服务器的性能，或者查询与资源相关的选项和需求</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p><code>POST</code> 和 <code>GET</code> 的区别:</p>
<ul>
<li>
<p>副作用：服务器上的资源做改变，如搜索是无副作用的，注册是副作用的。</p>
</li>
<li>
<p>幂等：幂等指发送 M 和 N 次请求（两者不相同且都大于 1），服务器上资源的状态一致。</p>
</li>
</ul>
<p>在规范的应用场景上说，Get 多用于无副作用，幂等的场景，例如搜索关键字。Post 多用于副作用，不幂等的场景，例如注册。</p>
<ul>
<li>
<p>Get 请求能缓存，Post 不能</p>
</li>
<li>
<p>Post 相对 Get 安全一点点，因为Get 请求都包含在 URL 里（当然你想写到 body 里也是可以的），且会被浏览器保存历史纪录。Post 不会，但是在抓包的情况下都是一样。</p>
</li>
<li>
<p>URL有长度限制，会影响 Get 请求，但是这个长度限制是浏览器规定的，不是 RFC 规定的</p>
</li>
<li>
<p>Post 支持更多的编码类型且不对数据类型限制</p>
</li>
</ul>
</li>
</ul>
<h2 id="消息报头">消息报头<a hidden class="anchor" aria-hidden="true" href="#消息报头">#</a></h2>
<h2 id="请求正文">请求正文<a hidden class="anchor" aria-hidden="true" href="#请求正文">#</a></h2>
<h1 id="http-响应构成">Http 响应构成<a hidden class="anchor" aria-hidden="true" href="#http-响应构成">#</a></h1>
<h2 id="状态行">状态行<a hidden class="anchor" aria-hidden="true" href="#状态行">#</a></h2>
<blockquote>
<p>HTTP-Version Status-Code Reason-Phrase CRLF。其中，HTTP-Version表示服务器HTTP协议的版本；Status-Code表示服务器发回的响应状态代码；Reason-Phrase表示状态代码的文本描述。</p>
</blockquote>
<h2 id="消息报头-1">消息报头<a hidden class="anchor" aria-hidden="true" href="#消息报头-1">#</a></h2>
<h2 id="响应正文">响应正文<a hidden class="anchor" aria-hidden="true" href="#响应正文">#</a></h2>
<blockquote>
<p>首部分为请求首部和响应首部，并且部分首部两种通用</p>
</blockquote>
<p><a href="/post/Http">See Http Tool</a></p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://domyson.github.io/tags/http/">http</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://domyson.github.io/">薛定谔的Bug</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
